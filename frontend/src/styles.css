@import "tailwindcss";

@theme {
  /* Colores */
  --color-transparent: transparent;
  --color-white: #FFFFFF;

  --color-brand-primary: #1B4F72;
  --color-brand-secondary: #F4CB42;
  --color-brand-accent: #48C9B0;

  /* Colores claros para fondos */
  --color-brand-primary-light: #C5D7E4;
  --color-brand-secondary-light: #FDF3D7;
  --color-brand-accent-light: #D0F0E8;

  /* Colores de alerta/error */
  --color-danger: #DC3545;
  --color-danger-light: #F8D7DA;

  --color-neutral-light: #F7F9FA;
  --color-neutral-medium: #D5D8DC;
  --color-neutral-dark: #2C3E50;

  /* Tipografías */
  --font-sans: "Inter", sans-serif;
  --font-display: "Inter Tight", "Inter", sans-serif;

  /* Colores Admin */
  --color-admin-sidebar: #0F2C40;
  --color-admin-sidebar-hover: #1B4F72;
  --color-admin-bg: #F0F4F8;
  --color-admin-header: #FFFFFF;
}

/* === Fuentes ===

  Debido a que tinyMce no puede usar este archivo css, los fuentes y otras características de estilo se definen
  en public/css/editor-content.css para que el contenido del editor se vea igual que el contenido final. Index.html
  también importa ese css para que el contenido renderizado en la web tenga el mismo estilo.
*/

@layer utilities {
  /* === Botones === */

  /* Botón, definición de tamaños estándar*/
  .ds-btn {
    @apply px-3 py-1.5 rounded-lg;
  }

  /* Botón primario - acción principal */
  .ds-btn-primary {
    @apply border border-brand-primary bg-brand-primary text-white hover:bg-brand-accent hover:border-brand-accent transition;
  }

  /* Botón secundario - acción alternativa */
  .ds-btn-secondary {
    @apply border border-brand-primary text-brand-primary hover:bg-brand-primary hover:text-white transition;
  }

  /* Botón de peligro - acciones destructivas */
  .ds-btn-danger {
    @apply border border-red-200 text-red-700 hover:bg-red-50 transition;
  }

  /* Botón deshabilitado */
  .ds-btn-disabled {
    @apply border border-neutral-medium bg-neutral-medium text-neutral-dark cursor-not-allowed opacity-60;
  }

  /* Botón de selección de imagen en grid */
  .ds-btn-img-grid {
    @apply border border-neutral-200 rounded-lg overflow-hidden bg-white hover:ring-2 hover:ring-brand-primary transition;
  }

  /* Botones de flechas */
  .ds-btn-arrow {
    font-size: 1.4rem;
    /* Icono más grande */
    line-height: 1;
    /* Evita desplazamientos verticales */
    padding: 0.25rem 0.6rem;
    /* Área de clic generosa */
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 40px;
    /* Ancho mínimo para dedos/ratón */
  }

  /* === Badges / Etiquetas de Estado === */

  /* Clase Base (Estructura) */
  .ds-badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold whitespace-nowrap;
  }

  /* Variantes de Color (Situaciones) */

  /* Solicitud de ingreso: Azul (Informativo/Nuevo) */
  .ds-badge-request {
    @apply bg-blue-100 text-blue-800;
  }

  /* Activo: Verde (Correcto) */
  .ds-badge-active {
    @apply bg-green-100 text-green-800;
  }

  /* Incidencias: Naranja (Advertencia administrativa) */
  .ds-badge-incident {
    @apply bg-orange-100 text-orange-800;
  }

  /* Alerta: Rojo (Peligro/Bloqueo/Sanción) */
  .ds-badge-alert {
    @apply bg-red-100 text-danger;
  }

  /* === Alertas / Notificaciones === */

  /* Clase base para alertas */
  .ds-alert {
    @apply px-4 py-3 rounded-lg border;
  }

  /* Alerta de error - acciones fallidas o errores críticos */
  .ds-alert-error {
    @apply bg-danger-light border-danger text-danger;
  }

  /* Alerta de advertencia - situaciones que requieren atención */
  .ds-alert-warning {
    @apply bg-orange-100 border-orange-300 text-orange-800;
  }

  /* Alerta informativa - información general o tips */
  .ds-alert-info {
    @apply bg-blue-100 border-blue-300 text-blue-800;
  }

  /* Alerta de éxito - confirmación de acciones completadas */
  .ds-alert-success {
    @apply bg-green-100 border-green-300 text-green-800;
  }

  /* === Animaciones === */

  /* Animación de aparición suave */
  .animate-fade-in {
    animation: fadeIn 0.3s ease-in;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* === Formularios / Inputs === */
  .ds-field {
    @apply flex flex-col gap-2;
  }

  .ds-label {
    @apply font-semibold text-neutral-dark;
  }

  /* Base común para controles */
  .ds-input, .ds-textarea{
    @apply py-1;
  }
  .ds-input,
  .ds-select,
  .ds-textarea {
    @apply w-full px-3 rounded-lg border border-neutral-medium bg-white text-neutral-dark placeholder:text-neutral-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-primary focus-visible:ring-offset-2;
  }
  .ds-select {
    @apply py-1.5;
  }

  /* Select con scroll - muestra aprox 5 opciones */
  .ds-select-scrollable {
    max-height: 10rem;
    overflow-y: auto;
  }

  /* Formato checkbox (label a la derecha)*/
  .ds-checkbox-label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    font-weight: normal;
  }

  .ds-checkbox-label input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
  }

  /* Alineación de checkboxes en grids multi-columna
     Usar cuando un checkbox está junto a un campo con label arriba,
     para alinear visualmente el checkbox con el input del campo adyacente */
  .ds-field-checkbox-grid {
    @media (min-width: 768px) {
      padding-top: 2.2rem;
    }
  }

  .ds-help {
    @apply text-sm text-neutral-medium;
  }

  .ds-error {
    @apply text-sm text-red-700;
  }

  /* Estado de error para el control (se añade además de ds-input/ds-select/ds-textarea) */
  .ds-control-error {
    @apply border-red-300 focus-visible:ring-red-500;
  }

  /* === Autocomplete === */

  /* Contenedor del autocomplete */
  .ds-autocomplete {
    @apply relative w-full;
  }

  /* Dropdown de resultados */
  .ds-autocomplete-dropdown {
    @apply absolute w-full mt-1 bg-white border border-neutral-medium rounded-lg shadow-lg overflow-y-auto;
    max-height: 10rem; /* Altura para aproximadamente 4 items */
    z-index: 10001; /* Por encima del popup de ayuda (z-index: 10000) */
  }

  /* Item individual en el dropdown */
  .ds-autocomplete-item {
    @apply px-3 py-1.5 cursor-pointer text-sm text-neutral-dark hover:bg-neutral-light transition-colors;
  }

  /* Item seleccionado/activo */
  .ds-autocomplete-item-active {
    @apply bg-brand-primary text-white;
  }

  /* Estado vacío */
  .ds-autocomplete-empty {
    @apply px-3 py-2 text-sm text-neutral-medium italic;
  }

  /* === Modales === */

  /* Backdrop del modal */
  .ds-modal-backdrop {
    @apply fixed inset-0 bg-black/50 flex items-center justify-center z-[1000];
    padding: 0;
  }

  /* Contenido del modal - fullscreen en móvil, centrado en desktop */
  .ds-modal-content {
    @apply bg-white w-full h-full overflow-y-auto;
    @apply md:rounded-lg md:shadow-xl md:h-auto md:m-4;
    max-width: 100%;
  }

  @media (min-width: 768px) {
    .ds-modal-content {
      max-width: 60rem;
      max-height: 90vh;
    }
  }

  /* === Pestañas (Tabs) === */

  /* Contenedor de pestañas */
  .ds-tabs {
    @apply flex gap-1 border-b border-neutral-medium;
  }

  /* Pestaña individual */
  .ds-tab {
    @apply px-4 py-2 text-sm font-medium text-neutral-dark rounded-t-lg transition-colors;
    @apply hover:bg-neutral-light focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-primary focus-visible:ring-offset-2;
    @apply border-b-2 border-transparent;
  }

  /* Pestaña activa */
  .ds-tab-active {
    @apply text-brand-primary border-brand-primary bg-neutral-light;
  }

  /* === Layout y Contenedores === */

  /* Wrapper global de la aplicación - usar como clase en div */
  .ds-main {
    @apply min-h-dvh bg-neutral-light;
  }

  /* Padding de página mobile-first - usar como clase en div */
  .ds-page {
    @apply py-6 px-3 md:py-10;
  }

  /* Contenedor centrado estándar con márgenes laterales - usar como clase en div */
  .ds-container {
    @apply mx-auto w-full max-w-7xl px-1.5 sm:px-2.5;
  }

  /* Contenedor centrado estrecho para formularios */
  .ds-container-narrow {
    @apply mx-auto w-full max-w-lg px-1.5 sm:px-2.5;
  }

  /* === Navegación === */

  /* Barra de navegación superior */
  .ds-nav {
    @apply sticky top-0 z-[100] bg-white border-b border-neutral-medium h-16;
  }

  /* Contenedor interno de la barra de navegación */
  .ds-nav-inner {
    @apply flex items-center justify-between gap-3 h-full mx-auto w-full max-w-7xl px-1.5 sm:px-2.5;
  }

  @media (max-width: 767px) {
    .ds-nav-inner {
      @apply pr-1.5;
    }
  }

  @media (min-width: 768px) {
    .ds-nav-inner {
      @apply pr-2.5;
    }
  }

  /* Zona de marca/logo */
  .ds-nav-brand {
    @apply flex items-center gap-2 font-display text-xl font-bold text-brand-primary;
  }

  /* Enlaces de navegación desktop */
  .ds-nav-links {
    @apply hidden md:flex items-center gap-1;
  }

  /* Estilo individual de link de navegación */
  .ds-nav-link {
    @apply px-3 py-2 rounded-md text-neutral-dark hover:bg-neutral-light hover:text-brand-primary transition-colors focus-visible:outline-2 focus-visible:outline-brand-primary;
  }

  /* Zona de acciones (login, avatar, etc.) */
  .ds-nav-actions {
    @apply flex items-center gap-2;
  }

  /* Botón hamburguesa para móvil */
  .ds-nav-toggle {
    @apply md:hidden p-2 rounded-md hover:bg-neutral-light focus-visible:outline-2 focus-visible:outline-brand-primary text-neutral-dark;
  }

  /* Panel de navegación móvil */
  .ds-nav-mobile {
    @apply md:hidden bg-white border-b border-neutral-medium;
  }

  /* Lista de enlaces móvil con centrado y ancho máximo */
  .ds-nav-mobile-list {
    @apply flex flex-col divide-y divide-neutral-medium mx-auto w-full max-w-7xl px-1.5 sm:px-2.5;
  }

  /* Link individual en móvil */
  .ds-nav-mobile-link {
    @apply px-4 md:px-6 py-3 text-neutral-dark hover:bg-neutral-light hover:text-brand-primary transition-colors focus-visible:outline-2 focus-visible:outline-brand-primary;
  }

  /* === Menús desplegables (acciones / usuario / admin) === */

  .ds-menu {
    @apply relative inline-block;
  }

  /** === Menú desplegable === */

  /* Panel flotante: alineado a la derecha y tamaño según contenido. En vista móvil alinea a la izquierda */
  .ds-menu-panel {
    @apply absolute left-0 md:right-0 md:left-auto min-w-max rounded-lg border border-neutral-medium bg-white shadow-lg;
  }

  /* Idem alineado a la izquierda, para posiciones iniciales demasiado a la izquierda que puedan hacer que el menú se salga de la pantalla */
  .ds-menu-panel-left {
    @apply absolute left-0 min-w-max rounded-lg border border-neutral-medium bg-white shadow-lg;
  }

  /* Idem alineado a la izquierda */

  /* Lista de items */
  .ds-menu-list {
    @apply py-1 whitespace-nowrap;
  }

  /* Item base (sirve para <a> o <button>) */
  .ds-menu-item {
    @apply block w-full px-4 py-2 text-left text-sm text-neutral-dark transition-colors hover:bg-neutral-light hover:text-brand-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-primary focus-visible:ring-offset-2;
  }

  /* Variantes */
  .ds-menu-item-danger {
    @apply text-red-700 hover:text-red-800;
  }

  .ds-menu-item-disabled {
    @apply cursor-not-allowed opacity-60 hover:bg-transparent hover:text-neutral-dark;
  }

  /* Separador */
  .ds-menu-separator {
    @apply my-1 border-t border-neutral-medium;
  }

  /* === Ayuda === */

  /* Botón pequeño reutilizable (para "Cerrar" en el popover) */
  .ds-btn-sm {
    @apply px-2 py-1 text-xs rounded-lg;
  }

  /* Label con icono de ayuda al lado (opcional) */
  .ds-label-with-help {
    @apply inline-flex items-center gap-1.5;
  }

  /* Icono de ayuda (ⓘ) */
  .ds-help-i {
    @apply inline-flex items-center justify-center select-none cursor-pointer;
    @apply w-5 h-5 rounded-full;
    @apply border border-neutral-medium bg-white;
    @apply text-[13px] font-bold leading-none text-brand-primary;
    @apply hover:bg-neutral-light;
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-primary focus-visible:ring-offset-2;
  }

  /* Toggle global: ocultos por defecto, visibles cuando el usuario lo activa */
  .ds-help-i {
    @apply hidden;
  }

  .help-icons-on .ds-help-i {
    @apply inline-flex;
  }

  /* label con ayuda */
  .ds-label-with-help {
    @apply inline-flex items-center gap-2;
  }

  /* Popover */
  .ds-popover {
    @apply fixed max-w-xs;
    @apply bg-white border border-neutral-medium rounded-xl;
    @apply p-3 text-sm text-neutral-dark leading-relaxed;
    z-index: 1000;
    /* mejor directo: evita depender de classes arbitrarias */
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
    /* sombra consistente en todos los builds */
  }

  .ds-popover-title {
    @apply font-semibold mb-1;
  }

  .ds-popover-text {
    @apply text-sm;
  }

  .ds-popover-actions {
    @apply mt-2 flex justify-end gap-1;
  }

  /* === clases para dar formato segmentos de páginas hechos con el editor === */
  .ds-seg-bg-black {
    @apply text-white w-fit w-full block bg-black py-5;
  }

  .ds-seg-bg-black * {
    @apply text-white;
  }

  /* Tipografia de parrafos del editor */
  .ds-p-normal {
    @apply text-base leading-relaxed;
  }

  .ds-p-hero {
    font-size: 1.5rem;
    line-height: 1.6;
    font-weight: 500;
  }

  /* === Layout administración === */
  .ds-admin-shell {
    @apply flex  text-sm relative overflow-hidden;
  }

  /* Sidebar: FLOTANTE, debajo del navbar y con z-index alto */
  .ds-admin-sidebar {
    @apply bg-admin-sidebar flex flex-col fixed z-50 transition-all duration-300 ease-in-out;
    top: 4rem;
    bottom: 0;
    width: 16rem;
    left: 0;
    box-shadow: 10px 0 15px -3px rgba(0, 0, 0, 0.2);
  }

  /* Estado cerrado: sacamos el menú lateral de la vista */
  .ds-admin-sidebar-closed {
    @apply -translate-x-full opacity-0 pointer-events-none;
  }

  /* Navbar: Ocupa todo el ancho, z-index superior al sidebar */
  .ds-admin-header {
    @apply h-16 bg-white border-b border-neutral-medium px-6 flex items-center justify-between fixed top-0 left-0 right-0 z-[100] w-full;
  }

  /* Items del Menú: Texto claro y brillo en iconos */
  .ds-admin-nav-item {
    @apply flex items-center gap-3 px-4 py-3 mx-2 rounded-md transition-colors cursor-pointer;
    @apply text-neutral-medium hover:bg-admin-sidebar-hover hover:text-white;
  }

  /* Brillo máximo para los iconos de socios y otros emojis */
  .ds-admin-nav-item span {
    @apply brightness-200 saturate-150;
  }

  /* Ajuste para el contenido principal para que no quede tapado por el navbar fijo */
  .ds-admin-main {
    @apply w-full flex flex-col overflow-hidden px-1.5 sm:px-2.5;
  }

  /* === Tablas de datos === */

  /* Estructura para tablas Admin (Layout Flex con header fijo) */
  .ds-table-card {
    @apply flex flex-col bg-white border border-neutral-medium shadow-sm overflow-hidden;
    border-radius: 0.5rem;
    /* Nota: Requiere altura definida en el padre (ej: h-full) para activar el scroll */
  }

  /* Zona de scroll: AÑADIDO min-h-0 para corregir el bug de flexbox */
  .ds-table-viewport {
    @apply flex-1 overflow-auto relative min-h-0;
  }

  /* Footer de paginación: AÑADIDO shrink-0 para que nunca se aplaste */
  .ds-table-pagination {
    @apply bg-white border-t border-neutral-medium p-3;
    @apply flex items-center text-xs text-neutral-500;
    @apply z-20 relative shrink-0;
  }

  /* Toolbar superior de la tabla */
  .ds-table-toolbar {
    @apply p-4 border-b border-neutral-medium bg-white;
    @apply flex flex-col sm:flex-row sm:items-center justify-between gap-4 shrink-0;
  }

  /* Contenedor simple (Legacy) */
  .ds-table-container {
    @apply bg-white border border-neutral-medium rounded-lg overflow-hidden shadow-sm;
  }

  /* Estilos de tabla */
  .ds-table {
    @apply w-full text-left border-collapse;
  }

  .ds-table th {
    @apply sticky top-0 z-10;
    @apply bg-neutral-light font-semibold text-neutral-dark px-4 py-3 text-xs uppercase tracking-wider border-b border-neutral-medium;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
  }

  .ds-table td {
    @apply px-4 py-3 border-b border-neutral-light text-neutral-dark align-middle;
  }

  .ds-table tr:hover td {
    @apply bg-neutral-50;
  }

}


@layer base {

  /* Cursor pointer para botones */
  button {
    @apply cursor-pointer;
  }

  /* Tipografía personalizada (clases) */
  html {
    @apply font-sans text-neutral-dark;
  }

  .h1 {
    @apply font-display text-4xl font-bold text-neutral-dark;
  }

  .h2 {
    @apply font-display text-3xl font-semibold text-neutral-dark;
  }

  .h3 {
    @apply font-display text-2xl font-semibold text-neutral-dark;
  }

  .p {
    @apply text-base leading-relaxed text-neutral-dark;
  }
}

