<section class="prose max-w-3xl mx-auto py-10 px-6">
  <header class="mb-6">
    <p class="text-xs uppercase tracking-[0.2em] text-ds-gray-500">Prototipo</p>
    <h1 class="mt-2 text-3xl font-semibold text-ds-gray-900">Quill editor demo</h1>
    <p class="mt-2 text-ds-gray-600">El editor y sus estilos se cargan sólo en este prototipo.</p>
  </header>

  <quill-editor
    #editor
    [modules]="modules"
    [formControl]="control"
    theme="snow"
    class="min-h-[240px]"
  ></quill-editor>

  <div class="mt-4 flex items-center gap-3">
    <button type="button" class="btn" (click)="toggleHtml()">
      {{ showHtml() ? 'Ocultar HTML' : 'Mostrar HTML actual' }}
    </button>
    <button type="button" class="btn btn-secondary" (click)="openExportModal()">
      Exportar HTML (modal)
    </button>
    <span class="text-sm text-ds-gray-500">El HTML se regenera al teclear.</span>
  </div>

  @if (showHtml()) {
    <div class="mt-4 rounded-lg border border-ds-gray-200 bg-white p-4 shadow-sm">
      <p class="text-sm font-medium text-ds-gray-700 mb-2">HTML renderizado</p>
      <pre class="overflow-auto text-sm text-ds-gray-800 whitespace-pre-wrap">{{ html() }}</pre>
    </div>
  }

  @if (showExportModal()) {
    <div class="modal-backdrop" (click)="closeExportModal()"></div>
    <div class="modal" role="dialog" aria-modal="true" aria-label="Exportar HTML">
      <header class="modal-header">
        <h2 class="text-lg font-semibold text-ds-gray-900">Exportar HTML</h2>
        <button type="button" class="icon-btn" (click)="closeExportModal()" aria-label="Cerrar">×</button>
      </header>
      <div class="modal-body">
        <p class="text-sm text-ds-gray-600 mb-3">Copia el HTML generado actualmente:</p>
        <pre class="code-block">{{ html() }}</pre>
      </div>
      <footer class="modal-footer">
        <button type="button" class="btn" (click)="closeExportModal()">Cerrar</button>
      </footer>
    </div>
  }

  @if (showLinkSelector()) {
    <app-link-selector
      (select)="onLinkSelected($event)"
      (cancel)="onLinkCanceled()"
    />
  }
</section>
